{"{\"assumptions\":{},\"sourceRoot\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter\",\"filename\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter/src/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _socket = _interopRequireDefault(require(\"socket.io\"));\nvar _http = _interopRequireDefault(require(\"http\"));\nvar Notes = _interopRequireWildcard(require(\"./contollers/note_controller\"));\nvar _lodash = _interopRequireDefault(require(\"lodash.throttle\"));\nvar _lodash2 = _interopRequireDefault(require(\"lodash.debounce\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// initialize\nconst app = (0, _express.default)();\nconst server = _http.default.createServer(app); // setting up a http server using http module from Node.js\n\nconst io = (0, _socket.default)(server, {\n  cors: {\n    origin: \"*\",\n    // allow requests from anywhere\n    METHODS: ['GET', 'POST', 'PUT', 'DELETE']\n  }\n});\n\n// enable/disable cross origin resource sharing if necessary\napp.use((0, _cors.default)());\n\n// enable/disable http request logging\napp.use((0, _morgan.default)('dev'));\n\n// enable only if you want templating\napp.set('view engine', 'ejs');\n\n// enable only if you want static assets from folder static\napp.use(_express.default.static('static'));\n\n// this just allows us to render ejs from the ../app/views directory\napp.set('views', _path.default.join(__dirname, '../src/views'));\n\n// enable json message body for posting data to API\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.json()); // To parse the incoming requests with JSON payloads\n\n// additional init stuff should go before hitting the routing\n\n// default index route\napp.get('/', (req, res) => {\n  res.send('hi');\n});\n\n//broadcasting notes to everyone\n\n//craete a new socket on connection, and emit the notes\n\n//\n\nio.on('connection', socket => {\n  let emitToSelf = notes => {\n    socket.emit('notes', notes);\n  };\n  emitToSelf = (0, _lodash2.default)(emitToSelf, 200);\n  let emitToOthers = notes => {\n    socket.broadcast.emit('notes', notes);\n  };\n  emitToOthers = (0, _lodash.default)(emitToOthers, 25);\n  Notes.getNotes().then(notes => {\n    socket.emit('notes', notes);\n  });\n  const pushNotesSmoothly = () => {\n    Notes.getNotes().then(result => {\n      emitToSelf(result);\n      emitToOthers(result);\n    });\n  };\n  function pushNotes() {\n    Notes.getNotes().then(notes => {\n      io.sockets.emit('notes', notes);\n    });\n  }\n  socket.on('createNote', note => {\n    console.log('called to create' + note);\n    Notes.createNote(note).then(result => {\n      pushNotes();\n    }).catch(error => {\n      console.log('Failed to create a note' + error.message);\n    });\n  });\n  socket.on('updateNote', (id, fields) => {\n    console.log('listened to update');\n    Notes.updateNote(id, fields).then(() => {\n      if (!fields.content) {\n        pushNotesSmoothly();\n      } else {\n        pushNotes();\n      }\n    });\n  });\n  socket.on('deleteNote', id => {\n    Notes.deleteNote(id).then(() => {\n      pushNotes();\n    });\n  });\n});\n\n// START THE SERVER\n// =============================================================================\nasync function startServer() {\n  try {\n    const port = process.env.PORT || 9090;\n    server.listen(port);\n    // connect mongoose\n    const MONGO_URI = process.env.MONGO_URI || 'mongodb://localhost/notes';\n    _mongoose.default.connect(MONGO_URI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    });\n    _mongoose.default.Promise = global.Promise;\n    console.log('mogoose connected successfuly');\n    console.log(`Listening on port ${port}`);\n  } catch (error) {\n    console.error(error);\n  }\n}\nstartServer();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb3JnYW4iLCJfbW9uZ29vc2UiLCJfc29ja2V0IiwiX2h0dHAiLCJOb3RlcyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2xvZGFzaCIsIl9sb2Rhc2gyIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwibm9kZUludGVyb3AiLCJXZWFrTWFwIiwiY2FjaGVCYWJlbEludGVyb3AiLCJjYWNoZU5vZGVJbnRlcm9wIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsImFwcCIsImV4cHJlc3MiLCJzZXJ2ZXIiLCJodHRwIiwiY3JlYXRlU2VydmVyIiwiaW8iLCJzb2NrZXRpbyIsImNvcnMiLCJvcmlnaW4iLCJNRVRIT0RTIiwidXNlIiwibW9yZ2FuIiwic3RhdGljIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwicmVxIiwicmVzIiwic2VuZCIsIm9uIiwic29ja2V0IiwiZW1pdFRvU2VsZiIsIm5vdGVzIiwiZW1pdCIsImRlYm91bmNlIiwiZW1pdFRvT3RoZXJzIiwiYnJvYWRjYXN0IiwidGhyb3R0bGUiLCJnZXROb3RlcyIsInRoZW4iLCJwdXNoTm90ZXNTbW9vdGhseSIsInJlc3VsdCIsInB1c2hOb3RlcyIsInNvY2tldHMiLCJub3RlIiwiY29uc29sZSIsImxvZyIsImNyZWF0ZU5vdGUiLCJjYXRjaCIsImVycm9yIiwibWVzc2FnZSIsImlkIiwiZmllbGRzIiwidXBkYXRlTm90ZSIsImNvbnRlbnQiLCJkZWxldGVOb3RlIiwic3RhcnRTZXJ2ZXIiLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJsaXN0ZW4iLCJNT05HT19VUkkiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJQcm9taXNlIiwiZ2xvYmFsIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZGVzdGlubml5b211ZmFzaGEvRGVza3RvcC9DUzUyL2V4cHJlc3MtYmFiZWwtc3RhcnRlci9zcmMvIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IG1vcmdhbiBmcm9tICdtb3JnYW4nO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBzb2NrZXRpbyBmcm9tICdzb2NrZXQuaW8nXG5pbXBvcnQgaHR0cCBmcm9tICdodHRwJ1xuaW1wb3J0ICogYXMgTm90ZXMgZnJvbSAnLi9jb250b2xsZXJzL25vdGVfY29udHJvbGxlcidcbmltcG9ydCB0aHJvdHRsZSBmcm9tICdsb2Rhc2gudGhyb3R0bGUnO1xuaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC5kZWJvdW5jZSc7XG5cblxuXG4vLyBpbml0aWFsaXplXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5jb25zdCBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApOyAvLyBzZXR0aW5nIHVwIGEgaHR0cCBzZXJ2ZXIgdXNpbmcgaHR0cCBtb2R1bGUgZnJvbSBOb2RlLmpzXG5cbmNvbnN0IGlvID0gc29ja2V0aW8oc2VydmVyLCB7IFxuICBjb3JzIDp7XG4gICAgb3JpZ2luIDogXCIqXCIsIC8vIGFsbG93IHJlcXVlc3RzIGZyb20gYW55d2hlcmVcbiAgICBNRVRIT0RTOiBbJ0dFVCcsICdQT1NUJywgJ1BVVCcsICdERUxFVEUnXVxuICB9XG59KVxuXG4vLyBlbmFibGUvZGlzYWJsZSBjcm9zcyBvcmlnaW4gcmVzb3VyY2Ugc2hhcmluZyBpZiBuZWNlc3NhcnlcbmFwcC51c2UoY29ycygpKTtcblxuLy8gZW5hYmxlL2Rpc2FibGUgaHR0cCByZXF1ZXN0IGxvZ2dpbmdcbmFwcC51c2UobW9yZ2FuKCdkZXYnKSk7XG5cbi8vIGVuYWJsZSBvbmx5IGlmIHlvdSB3YW50IHRlbXBsYXRpbmdcbmFwcC5zZXQoJ3ZpZXcgZW5naW5lJywgJ2VqcycpO1xuXG4vLyBlbmFibGUgb25seSBpZiB5b3Ugd2FudCBzdGF0aWMgYXNzZXRzIGZyb20gZm9sZGVyIHN0YXRpY1xuYXBwLnVzZShleHByZXNzLnN0YXRpYygnc3RhdGljJykpO1xuXG4vLyB0aGlzIGp1c3QgYWxsb3dzIHVzIHRvIHJlbmRlciBlanMgZnJvbSB0aGUgLi4vYXBwL3ZpZXdzIGRpcmVjdG9yeVxuYXBwLnNldCgndmlld3MnLCBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vc3JjL3ZpZXdzJykpO1xuXG4vLyBlbmFibGUganNvbiBtZXNzYWdlIGJvZHkgZm9yIHBvc3RpbmcgZGF0YSB0byBBUElcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuYXBwLnVzZShleHByZXNzLmpzb24oKSk7IC8vIFRvIHBhcnNlIHRoZSBpbmNvbWluZyByZXF1ZXN0cyB3aXRoIEpTT04gcGF5bG9hZHNcblxuLy8gYWRkaXRpb25hbCBpbml0IHN0dWZmIHNob3VsZCBnbyBiZWZvcmUgaGl0dGluZyB0aGUgcm91dGluZ1xuXG4vLyBkZWZhdWx0IGluZGV4IHJvdXRlXG5hcHAuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5zZW5kKCdoaScpO1xufSk7XG5cbi8vYnJvYWRjYXN0aW5nIG5vdGVzIHRvIGV2ZXJ5b25lXG5cblxuLy9jcmFldGUgYSBuZXcgc29ja2V0IG9uIGNvbm5lY3Rpb24sIGFuZCBlbWl0IHRoZSBub3Rlc1xuXG4vL1xuXG5cblxuaW8ub24oJ2Nvbm5lY3Rpb24nLCAoc29ja2V0KT0+e1xuXG4gIGxldCBlbWl0VG9TZWxmICA9IChub3Rlcyk9PntcbiAgICBzb2NrZXQuZW1pdCgnbm90ZXMnLCBub3Rlcyk7XG4gIH1cblxuICBlbWl0VG9TZWxmID0gZGVib3VuY2UoZW1pdFRvU2VsZiwgMjAwKTtcblxuICBsZXQgZW1pdFRvT3RoZXJzID0gKG5vdGVzKT0+e1xuICAgIHNvY2tldC5icm9hZGNhc3QuZW1pdCgnbm90ZXMnLCBub3Rlcyk7XG4gIH1cblxuICBlbWl0VG9PdGhlcnMgPSB0aHJvdHRsZShlbWl0VG9PdGhlcnMsIDI1KTtcblxuICBOb3Rlcy5nZXROb3RlcygpLnRoZW4obm90ZXM9PntcbiAgICBzb2NrZXQuZW1pdCgnbm90ZXMnLCBub3Rlcyk7XG4gIH0pXG5cbiAgY29uc3QgcHVzaE5vdGVzU21vb3RobHkgPSAoKSA9PiB7XG4gICAgTm90ZXMuZ2V0Tm90ZXMoKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGVtaXRUb1NlbGYocmVzdWx0KTtcbiAgICAgIGVtaXRUb090aGVycyhyZXN1bHQpO1xuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hOb3Rlcygpe1xuICAgIE5vdGVzLmdldE5vdGVzKCkudGhlbihub3Rlcz0+e1xuICAgICAgaW8uc29ja2V0cy5lbWl0KCdub3RlcycsIG5vdGVzKTtcbiAgICB9KVxuICB9XG4gIHNvY2tldC5vbignY3JlYXRlTm90ZScsIChub3RlKT0+e1xuICAgIGNvbnNvbGUubG9nKCdjYWxsZWQgdG8gY3JlYXRlJyArIG5vdGUpO1xuICAgIE5vdGVzLmNyZWF0ZU5vdGUobm90ZSkudGhlbigocmVzdWx0KT0+e1xuICAgICAgcHVzaE5vdGVzKCk7XG4gICAgfSkuY2F0Y2goZXJyb3I9PntcbiAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gY3JlYXRlIGEgbm90ZScgKyBlcnJvci5tZXNzYWdlKTtcbiAgICB9KVxuICB9KVxuXG4gIHNvY2tldC5vbigndXBkYXRlTm90ZScsIChpZCwgZmllbGRzKT0+e1xuICAgIGNvbnNvbGUubG9nKCdsaXN0ZW5lZCB0byB1cGRhdGUnKTtcbiAgICBOb3Rlcy51cGRhdGVOb3RlKGlkLCBmaWVsZHMpLnRoZW4oKCk9PntcbiAgICAgIGlmKCFmaWVsZHMuY29udGVudCl7XG4gICAgICAgIHB1c2hOb3Rlc1Ntb290aGx5KCk7XG4gICAgICB9IGVsc2V7XG4gICAgICAgIHB1c2hOb3RlcygpO1xuICAgICAgfVxuICAgIH0pXG4gIH0pXG5cbiAgc29ja2V0Lm9uKCdkZWxldGVOb3RlJywgKGlkKT0+e1xuICAgIE5vdGVzLmRlbGV0ZU5vdGUoaWQpLnRoZW4oKCk9PntcbiAgICAgIHB1c2hOb3RlcygpO1xuICAgIH0pXG4gIH0pXG5cblxufSlcblxuXG5cblxuLy8gU1RBUlQgVEhFIFNFUlZFUlxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmFzeW5jIGZ1bmN0aW9uIHN0YXJ0U2VydmVyKCkge1xuICB0cnkge1xuICAgIGNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDkwOTA7XG4gICAgc2VydmVyLmxpc3Rlbihwb3J0KTtcbiAgICAvLyBjb25uZWN0IG1vbmdvb3NlXG4gICAgY29uc3QgTU9OR09fVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09fVVJJIHx8ICdtb25nb2RiOi8vbG9jYWxob3N0L25vdGVzJ1xuICAgIG1vbmdvb3NlLmNvbm5lY3QoTU9OR09fVVJJLCB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlIH0pO1xuICAgIG1vbmdvb3NlLlByb21pc2UgPSBnbG9iYWwuUHJvbWlzZTtcbiAgICBjb25zb2xlLmxvZygnbW9nb29zZSBjb25uZWN0ZWQgc3VjY2Vzc2Z1bHknKTtcbiAgICBjb25zb2xlLmxvZyhgTGlzdGVuaW5nIG9uIHBvcnQgJHtwb3J0fWApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICB9XG59XG5cbnN0YXJ0U2VydmVyKCk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsT0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksU0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssT0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sS0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sS0FBQSxHQUFBQyx1QkFBQSxDQUFBUixPQUFBO0FBQ0EsSUFBQVMsT0FBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVUsUUFBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLFNBQUFXLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxXQUFBLFdBQUFBLFdBQUEsR0FBQUcsZ0JBQUEsR0FBQUQsaUJBQUEsS0FBQUYsV0FBQTtBQUFBLFNBQUFKLHdCQUFBUSxHQUFBLEVBQUFKLFdBQUEsU0FBQUEsV0FBQSxJQUFBSSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxXQUFBRCxHQUFBLFFBQUFBLEdBQUEsb0JBQUFBLEdBQUEsd0JBQUFBLEdBQUEsNEJBQUFFLE9BQUEsRUFBQUYsR0FBQSxVQUFBRyxLQUFBLEdBQUFSLHdCQUFBLENBQUFDLFdBQUEsT0FBQU8sS0FBQSxJQUFBQSxLQUFBLENBQUFDLEdBQUEsQ0FBQUosR0FBQSxZQUFBRyxLQUFBLENBQUFFLEdBQUEsQ0FBQUwsR0FBQSxT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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_morgan","_mongoose","_socket","_http","Notes","_interopRequireWildcard","_lodash","_lodash2","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","app","express","server","http","createServer","io","socketio","cors","origin","METHODS","use","morgan","static","path","join","__dirname","urlencoded","extended","json","req","res","send","on","socket","emitToSelf","notes","emit","debounce","emitToOthers","broadcast","throttle","getNotes","then","pushNotesSmoothly","result","pushNotes","sockets","note","console","log","createNote","catch","error","message","id","fields","updateNote","content","deleteNote","startServer","port","process","env","PORT","listen","MONGO_URI","mongoose","connect","useNewUrlParser","useUnifiedTopology","Promise","global"],"sourceRoot":"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter/src/","sources":["server.js"],"sourcesContent":["import express from 'express';\nimport cors from 'cors';\nimport path from 'path';\nimport morgan from 'morgan';\nimport mongoose from 'mongoose';\nimport socketio from 'socket.io'\nimport http from 'http'\nimport * as Notes from './contollers/note_controller'\nimport throttle from 'lodash.throttle';\nimport debounce from 'lodash.debounce';\n\n\n\n// initialize\nconst app = express();\nconst server = http.createServer(app); // setting up a http server using http module from Node.js\n\nconst io = socketio(server, { \n  cors :{\n    origin : \"*\", // allow requests from anywhere\n    METHODS: ['GET', 'POST', 'PUT', 'DELETE']\n  }\n})\n\n// enable/disable cross origin resource sharing if necessary\napp.use(cors());\n\n// enable/disable http request logging\napp.use(morgan('dev'));\n\n// enable only if you want templating\napp.set('view engine', 'ejs');\n\n// enable only if you want static assets from folder static\napp.use(express.static('static'));\n\n// this just allows us to render ejs from the ../app/views directory\napp.set('views', path.join(__dirname, '../src/views'));\n\n// enable json message body for posting data to API\napp.use(express.urlencoded({ extended: true }));\napp.use(express.json()); // To parse the incoming requests with JSON payloads\n\n// additional init stuff should go before hitting the routing\n\n// default index route\napp.get('/', (req, res) => {\n  res.send('hi');\n});\n\n//broadcasting notes to everyone\n\n\n//craete a new socket on connection, and emit the notes\n\n//\n\n\n\nio.on('connection', (socket)=>{\n\n  let emitToSelf  = (notes)=>{\n    socket.emit('notes', notes);\n  }\n\n  emitToSelf = debounce(emitToSelf, 200);\n\n  let emitToOthers = (notes)=>{\n    socket.broadcast.emit('notes', notes);\n  }\n\n  emitToOthers = throttle(emitToOthers, 25);\n\n  Notes.getNotes().then(notes=>{\n    socket.emit('notes', notes);\n  })\n\n  const pushNotesSmoothly = () => {\n    Notes.getNotes().then((result) => {\n      emitToSelf(result);\n      emitToOthers(result);\n    });\n  };\n\n  function pushNotes(){\n    Notes.getNotes().then(notes=>{\n      io.sockets.emit('notes', notes);\n    })\n  }\n  socket.on('createNote', (note)=>{\n    console.log('called to create' + note);\n    Notes.createNote(note).then((result)=>{\n      pushNotes();\n    }).catch(error=>{\n      console.log('Failed to create a note' + error.message);\n    })\n  })\n\n  socket.on('updateNote', (id, fields)=>{\n    console.log('listened to update');\n    Notes.updateNote(id, fields).then(()=>{\n      if(!fields.content){\n        pushNotesSmoothly();\n      } else{\n        pushNotes();\n      }\n    })\n  })\n\n  socket.on('deleteNote', (id)=>{\n    Notes.deleteNote(id).then(()=>{\n      pushNotes();\n    })\n  })\n\n\n})\n\n\n\n\n// START THE SERVER\n// =============================================================================\nasync function startServer() {\n  try {\n    const port = process.env.PORT || 9090;\n    server.listen(port);\n    // connect mongoose\n    const MONGO_URI = process.env.MONGO_URI || 'mongodb://localhost/notes'\n    mongoose.connect(MONGO_URI, { useNewUrlParser: true, useUnifiedTopology: true });\n    mongoose.Promise = global.Promise;\n    console.log('mogoose connected successfuly');\n    console.log(`Listening on port ${port}`);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nstartServer();\n"],"mappings":"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"}},"mtime":1687490706723},"{\"assumptions\":{},\"sourceRoot\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter/src/contollers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter\",\"filename\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter/src/contollers/note_controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createNote = createNote;\nexports.deleteNote = deleteNote;\nexports.getNotes = getNotes;\nexports.updateNote = updateNote;\nvar _note = _interopRequireDefault(require(\"../models/note\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function createNote(noteContent) {\n  const newNote = new _note.default();\n  Object.keys(noteContent).forEach(key => {\n    console.log(key);\n    newNote[key] = noteContent[key];\n  });\n  return newNote.save();\n}\nasync function getNotes() {\n  return _note.default.find({}).then(notes => {\n    return notes.reduce((results, item) => {\n      results[item.id] = item;\n      return results;\n    }, {});\n  });\n}\nasync function deleteNote(id) {\n  return _note.default.findByIdAndDelete(id).then(note => {\n    console.log('note deleted');\n  });\n}\nasync function updateNote(id, updateContent) {\n  return _note.default.findById(id).then(note => {\n    Object.keys(updateContent).forEach(key => {\n      note[key] = updateContent[key];\n    });\n    return note.save();\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbm90ZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjcmVhdGVOb3RlIiwibm90ZUNvbnRlbnQiLCJuZXdOb3RlIiwiTm90ZSIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwiY29uc29sZSIsImxvZyIsInNhdmUiLCJnZXROb3RlcyIsImZpbmQiLCJ0aGVuIiwibm90ZXMiLCJyZWR1Y2UiLCJyZXN1bHRzIiwiaXRlbSIsImlkIiwiZGVsZXRlTm90ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwibm90ZSIsInVwZGF0ZU5vdGUiLCJ1cGRhdGVDb250ZW50IiwiZmluZEJ5SWQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9kZXN0aW5uaXlvbXVmYXNoYS9EZXNrdG9wL0NTNTIvZXhwcmVzcy1iYWJlbC1zdGFydGVyL3NyYy9jb250b2xsZXJzLyIsInNvdXJjZXMiOlsibm90ZV9jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOb3RlIGZyb20gXCIuLi9tb2RlbHMvbm90ZVwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTm90ZShub3RlQ29udGVudCl7XG4gICAgY29uc3QgbmV3Tm90ZSA9IG5ldyBOb3RlKCk7XG4gICAgT2JqZWN0LmtleXMobm90ZUNvbnRlbnQpLmZvckVhY2goa2V5PT57XG4gICAgICAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICAgIG5ld05vdGVba2V5XSA9IG5vdGVDb250ZW50W2tleV07XG4gICAgfSlcbiAgICByZXR1cm4gbmV3Tm90ZS5zYXZlKCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXROb3Rlcygpe1xuICAgIHJldHVybiBOb3RlLmZpbmQoe30pLnRoZW4oKG5vdGVzKT0+e1xuICAgICAgICByZXR1cm4gbm90ZXMucmVkdWNlKChyZXN1bHRzLCBpdGVtKT0+e1xuICAgICAgICAgICAgcmVzdWx0c1tpdGVtLmlkXSA9IGl0ZW07XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgfSwge30pXG4gICAgfSlcbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTm90ZShpZCl7XG4gICAgcmV0dXJuIE5vdGUuZmluZEJ5SWRBbmREZWxldGUoaWQpLnRoZW4obm90ZT0+e1xuICAgICAgICBjb25zb2xlLmxvZygnbm90ZSBkZWxldGVkJyk7XG4gICAgfSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU5vdGUoaWQsIHVwZGF0ZUNvbnRlbnQpe1xuICAgIHJldHVybiBOb3RlLmZpbmRCeUlkKGlkKS50aGVuKG5vdGU9PntcbiAgICAgICAgT2JqZWN0LmtleXModXBkYXRlQ29udGVudCkuZm9yRWFjaChrZXk9PntcbiAgICAgICAgICAgIG5vdGVba2V5XSA9IHVwZGF0ZUNvbnRlbnRba2V5XVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gbm90ZS5zYXZlKCk7XG4gICAgfSlcbn1cblxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBa0MsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFM0IsZUFBZUcsVUFBVUEsQ0FBQ0MsV0FBVyxFQUFDO0VBQ3pDLE1BQU1DLE9BQU8sR0FBRyxJQUFJQyxhQUFJLENBQUMsQ0FBQztFQUMxQkMsTUFBTSxDQUFDQyxJQUFJLENBQUNKLFdBQVcsQ0FBQyxDQUFDSyxPQUFPLENBQUNDLEdBQUcsSUFBRTtJQUNsQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQztJQUNoQkwsT0FBTyxDQUFDSyxHQUFHLENBQUMsR0FBR04sV0FBVyxDQUFDTSxHQUFHLENBQUM7RUFDbkMsQ0FBQyxDQUFDO0VBQ0YsT0FBT0wsT0FBTyxDQUFDUSxJQUFJLENBQUMsQ0FBQztBQUN6QjtBQUVPLGVBQWVDLFFBQVFBLENBQUEsRUFBRTtFQUM1QixPQUFPUixhQUFJLENBQUNTLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUVDLEtBQUssSUFBRztJQUMvQixPQUFPQSxLQUFLLENBQUNDLE1BQU0sQ0FBQyxDQUFDQyxPQUFPLEVBQUVDLElBQUksS0FBRztNQUNqQ0QsT0FBTyxDQUFDQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxHQUFHRCxJQUFJO01BQ3ZCLE9BQU9ELE9BQU87SUFDbEIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0VBQ1YsQ0FBQyxDQUFDO0FBQ047QUFHTyxlQUFlRyxVQUFVQSxDQUFDRCxFQUFFLEVBQUM7RUFDaEMsT0FBT2YsYUFBSSxDQUFDaUIsaUJBQWlCLENBQUNGLEVBQUUsQ0FBQyxDQUFDTCxJQUFJLENBQUNRLElBQUksSUFBRTtJQUN6Q2IsT0FBTyxDQUFDQyxHQUFHLENBQUMsY0FBYyxDQUFDO0VBQy9CLENBQUMsQ0FBQztBQUNOO0FBRU8sZUFBZWEsVUFBVUEsQ0FBQ0osRUFBRSxFQUFFSyxhQUFhLEVBQUM7RUFDL0MsT0FBT3BCLGFBQUksQ0FBQ3FCLFFBQVEsQ0FBQ04sRUFBRSxDQUFDLENBQUNMLElBQUksQ0FBQ1EsSUFBSSxJQUFFO0lBQ2hDakIsTUFBTSxDQUFDQyxJQUFJLENBQUNrQixhQUFhLENBQUMsQ0FBQ2pCLE9BQU8sQ0FBQ0MsR0FBRyxJQUFFO01BQ3BDYyxJQUFJLENBQUNkLEdBQUcsQ0FBQyxHQUFHZ0IsYUFBYSxDQUFDaEIsR0FBRyxDQUFDO0lBQ2xDLENBQUMsQ0FBQztJQUNGLE9BQU9jLElBQUksQ0FBQ1gsSUFBSSxDQUFDLENBQUM7RUFDdEIsQ0FBQyxDQUFDO0FBQ04ifQ==","map":{"version":3,"names":["_note","_interopRequireDefault","require","obj","__esModule","default","createNote","noteContent","newNote","Note","Object","keys","forEach","key","console","log","save","getNotes","find","then","notes","reduce","results","item","id","deleteNote","findByIdAndDelete","note","updateNote","updateContent","findById"],"sourceRoot":"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter/src/contollers/","sources":["note_controller.js"],"sourcesContent":["import Note from \"../models/note\";\n\nexport async function createNote(noteContent){\n    const newNote = new Note();\n    Object.keys(noteContent).forEach(key=>{\n        console.log(key);\n        newNote[key] = noteContent[key];\n    })\n    return newNote.save();\n}\n\nexport async function getNotes(){\n    return Note.find({}).then((notes)=>{\n        return notes.reduce((results, item)=>{\n            results[item.id] = item;\n            return results;\n        }, {})\n    })\n}\n\n\nexport async function deleteNote(id){\n    return Note.findByIdAndDelete(id).then(note=>{\n        console.log('note deleted');\n    })\n}\n\nexport async function updateNote(id, updateContent){\n    return Note.findById(id).then(note=>{\n        Object.keys(updateContent).forEach(key=>{\n            note[key] = updateContent[key]\n        })\n        return note.save();\n    })\n}\n\n"],"mappings":";;;;;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE3B,eAAeG,UAAUA,CAACC,WAAW,EAAC;EACzC,MAAMC,OAAO,GAAG,IAAIC,aAAI,CAAC,CAAC;EAC1BC,MAAM,CAACC,IAAI,CAACJ,WAAW,CAAC,CAACK,OAAO,CAACC,GAAG,IAAE;IAClCC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBL,OAAO,CAACK,GAAG,CAAC,GAAGN,WAAW,CAACM,GAAG,CAAC;EACnC,CAAC,CAAC;EACF,OAAOL,OAAO,CAACQ,IAAI,CAAC,CAAC;AACzB;AAEO,eAAeC,QAAQA,CAAA,EAAE;EAC5B,OAAOR,aAAI,CAACS,IAAI,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAEC,KAAK,IAAG;IAC/B,OAAOA,KAAK,CAACC,MAAM,CAAC,CAACC,OAAO,EAAEC,IAAI,KAAG;MACjCD,OAAO,CAACC,IAAI,CAACC,EAAE,CAAC,GAAGD,IAAI;MACvB,OAAOD,OAAO;IAClB,CAAC,EAAE,CAAC,CAAC,CAAC;EACV,CAAC,CAAC;AACN;AAGO,eAAeG,UAAUA,CAACD,EAAE,EAAC;EAChC,OAAOf,aAAI,CAACiB,iBAAiB,CAACF,EAAE,CAAC,CAACL,IAAI,CAACQ,IAAI,IAAE;IACzCb,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;EAC/B,CAAC,CAAC;AACN;AAEO,eAAea,UAAUA,CAACJ,EAAE,EAAEK,aAAa,EAAC;EAC/C,OAAOpB,aAAI,CAACqB,QAAQ,CAACN,EAAE,CAAC,CAACL,IAAI,CAACQ,IAAI,IAAE;IAChCjB,MAAM,CAACC,IAAI,CAACkB,aAAa,CAAC,CAACjB,OAAO,CAACC,GAAG,IAAE;MACpCc,IAAI,CAACd,GAAG,CAAC,GAAGgB,aAAa,CAAChB,GAAG,CAAC;IAClC,CAAC,CAAC;IACF,OAAOc,IAAI,CAACX,IAAI,CAAC,CAAC;EACtB,CAAC,CAAC;AACN"}},"mtime":1685651902163},"{\"assumptions\":{},\"sourceRoot\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter\",\"filename\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter/src/models/note.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst NoteSchema = new _mongoose.Schema({\n  Title: String,\n  x: Number,\n  y: Number,\n  z_index: Number,\n  content: String\n}, {\n  toJSON: {\n    virtuals: true\n  },\n  toObject: {\n    virtuals: true\n  }\n});\nconst Note = _mongoose.default.model('Notes', NoteSchema);\nvar _default = Note;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiTm90ZVNjaGVtYSIsIlNjaGVtYSIsIlRpdGxlIiwiU3RyaW5nIiwieCIsIk51bWJlciIsInkiLCJ6X2luZGV4IiwiY29udGVudCIsInRvSlNPTiIsInZpcnR1YWxzIiwidG9PYmplY3QiLCJOb3RlIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2Rlc3Rpbm5peW9tdWZhc2hhL0Rlc2t0b3AvQ1M1Mi9leHByZXNzLWJhYmVsLXN0YXJ0ZXIvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbIm5vdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IE1vZGVsLCBTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgTm90ZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIFRpdGxlOiBTdHJpbmcsXG4gICAgeDogTnVtYmVyLFxuICAgIHk6IE51bWJlcixcbiAgICB6X2luZGV4OiBOdW1iZXIsXG4gICAgY29udGVudDogU3RyaW5nLCAgXG59LCBcbntcbiAgICB0b0pTT04gOiB7dmlydHVhbHM6IHRydWV9LFxuICAgIHRvT2JqZWN0OiB7dmlydHVhbHM6IHRydWV9XG59KVxuXG5cbmNvbnN0IE5vdGUgPSAgbW9uZ29vc2UubW9kZWwoJ05vdGVzJywgTm90ZVNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBOb3RlOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQW1ELFNBQUFDLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxXQUFBLFdBQUFBLFdBQUEsR0FBQUcsZ0JBQUEsR0FBQUQsaUJBQUEsS0FBQUYsV0FBQTtBQUFBLFNBQUFILHdCQUFBTyxHQUFBLEVBQUFKLFdBQUEsU0FBQUEsV0FBQSxJQUFBSSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxXQUFBRCxHQUFBLFFBQUFBLEdBQUEsb0JBQUFBLEdBQUEsd0JBQUFBLEdBQUEsNEJBQUFFLE9BQUEsRUFBQUYsR0FBQSxVQUFBRyxLQUFBLEdBQUFSLHdCQUFBLENBQUFDLFdBQUEsT0FBQU8sS0FBQSxJQUFBQSxLQUFBLENBQUFDLEdBQUEsQ0FBQUosR0FBQSxZQUFBRyxLQUFBLENBQUFFLEdBQUEsQ0FBQUwsR0FBQSxTQUFBTSxNQUFBLFdBQUFDLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLEdBQUEsSUFBQVgsR0FBQSxRQUFBVyxHQUFBLGtCQUFBSCxNQUFBLENBQUFJLFNBQUEsQ0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFkLEdBQUEsRUFBQVcsR0FBQSxTQUFBSSxJQUFBLEdBQUFSLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQVYsR0FBQSxFQUFBVyxHQUFBLGNBQUFJLElBQUEsS0FBQUEsSUFBQSxDQUFBVixHQUFBLElBQUFVLElBQUEsQ0FBQUMsR0FBQSxLQUFBUixNQUFBLENBQUFDLGNBQUEsQ0FBQUgsTUFBQSxFQUFBSyxHQUFBLEVBQUFJLElBQUEsWUFBQVQsTUFBQSxDQUFBSyxHQUFBLElBQUFYLEdBQUEsQ0FBQVcsR0FBQSxTQUFBTCxNQUFBLENBQUFKLE9BQUEsR0FBQUYsR0FBQSxNQUFBRyxLQUFBLElBQUFBLEtBQUEsQ0FBQWEsR0FBQSxDQUFBaEIsR0FBQSxFQUFBTSxNQUFBLFlBQUFBLE1BQUE7QUFFbkQsTUFBTVcsVUFBVSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDMUJDLEtBQUssRUFBRUMsTUFBTTtFQUNiQyxDQUFDLEVBQUVDLE1BQU07RUFDVEMsQ0FBQyxFQUFFRCxNQUFNO0VBQ1RFLE9BQU8sRUFBRUYsTUFBTTtFQUNmRyxPQUFPLEVBQUVMO0FBQ2IsQ0FBQyxFQUNEO0VBQ0lNLE1BQU0sRUFBRztJQUFDQyxRQUFRLEVBQUU7RUFBSSxDQUFDO0VBQ3pCQyxRQUFRLEVBQUU7SUFBQ0QsUUFBUSxFQUFFO0VBQUk7QUFDN0IsQ0FBQyxDQUFDO0FBR0YsTUFBTUUsSUFBSSxHQUFJQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsT0FBTyxFQUFFZCxVQUFVLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBQ25DSCxJQUFJO0FBQUFJLE9BQUEsQ0FBQS9CLE9BQUEsR0FBQThCLFFBQUEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","NoteSchema","Schema","Title","String","x","Number","y","z_index","content","toJSON","virtuals","toObject","Note","mongoose","model","_default","exports"],"sourceRoot":"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter/src/models/","sources":["note.js"],"sourcesContent":["import mongoose, { Model, Schema } from \"mongoose\";\n\nconst NoteSchema = new Schema({\n    Title: String,\n    x: Number,\n    y: Number,\n    z_index: Number,\n    content: String,  \n}, \n{\n    toJSON : {virtuals: true},\n    toObject: {virtuals: true}\n})\n\n\nconst Note =  mongoose.model('Notes', NoteSchema);\nexport default Note;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAmD,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEnD,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,KAAK,EAAEC,MAAM;EACbC,CAAC,EAAEC,MAAM;EACTC,CAAC,EAAED,MAAM;EACTE,OAAO,EAAEF,MAAM;EACfG,OAAO,EAAEL;AACb,CAAC,EACD;EACIM,MAAM,EAAG;IAACC,QAAQ,EAAE;EAAI,CAAC;EACzBC,QAAQ,EAAE;IAACD,QAAQ,EAAE;EAAI;AAC7B,CAAC,CAAC;AAGF,MAAME,IAAI,GAAIC,iBAAQ,CAACC,KAAK,CAAC,OAAO,EAAEd,UAAU,CAAC;AAAC,IAAAe,QAAA,GACnCH,IAAI;AAAAI,OAAA,CAAA/B,OAAA,GAAA8B,QAAA"}},"mtime":1685672665556},"{\"assumptions\":{},\"sourceRoot\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter/src/contollers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter\",\"filename\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter/src/contollers/note_controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createNote = createNote;\nexports.deleteNote = deleteNote;\nexports.getNotes = getNotes;\nexports.updateNote = updateNote;\nvar _note = _interopRequireDefault(require(\"../models/note\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function createNote(noteContent) {\n  const newNote = new _note.default();\n  Object.keys(noteContent).forEach(key => {\n    console.log(key);\n    newNote[key] = noteContent[key];\n  });\n  return newNote.save();\n}\nasync function getNotes() {\n  return _note.default.find({}).then(notes => {\n    return notes.reduce((results, item) => {\n      results[item.id] = item;\n      return results;\n    }, {});\n  });\n}\nasync function deleteNote(id) {\n  return _note.default.findByIdAndDelete(id).then(note => {\n    console.log('note deleted');\n  });\n}\nasync function updateNote(id, updateContent) {\n  return _note.default.findById(id).then(note => {\n    Object.keys(updateContent).forEach(key => {\n      note[key] = updateContent[key];\n    });\n    return note.save();\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbm90ZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjcmVhdGVOb3RlIiwibm90ZUNvbnRlbnQiLCJuZXdOb3RlIiwiTm90ZSIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwiY29uc29sZSIsImxvZyIsInNhdmUiLCJnZXROb3RlcyIsImZpbmQiLCJ0aGVuIiwibm90ZXMiLCJyZWR1Y2UiLCJyZXN1bHRzIiwiaXRlbSIsImlkIiwiZGVsZXRlTm90ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwibm90ZSIsInVwZGF0ZU5vdGUiLCJ1cGRhdGVDb250ZW50IiwiZmluZEJ5SWQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9kZXN0aW5uaXlvbXVmYXNoYS9EZXNrdG9wL0NTNTIvZXhwcmVzcy1iYWJlbC1zdGFydGVyL3NyYy9jb250b2xsZXJzLyIsInNvdXJjZXMiOlsibm90ZV9jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOb3RlIGZyb20gXCIuLi9tb2RlbHMvbm90ZVwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTm90ZShub3RlQ29udGVudCl7XG4gICAgY29uc3QgbmV3Tm90ZSA9IG5ldyBOb3RlKCk7XG4gICAgT2JqZWN0LmtleXMobm90ZUNvbnRlbnQpLmZvckVhY2goa2V5PT57XG4gICAgICAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICAgIG5ld05vdGVba2V5XSA9IG5vdGVDb250ZW50W2tleV07XG4gICAgfSlcbiAgICByZXR1cm4gbmV3Tm90ZS5zYXZlKCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXROb3Rlcygpe1xuICAgIHJldHVybiBOb3RlLmZpbmQoe30pLnRoZW4oKG5vdGVzKT0+e1xuICAgICAgICByZXR1cm4gbm90ZXMucmVkdWNlKChyZXN1bHRzLCBpdGVtKT0+e1xuICAgICAgICAgICAgcmVzdWx0c1tpdGVtLmlkXSA9IGl0ZW07XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgfSwge30pXG4gICAgfSlcbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTm90ZShpZCl7XG4gICAgcmV0dXJuIE5vdGUuZmluZEJ5SWRBbmREZWxldGUoaWQpLnRoZW4obm90ZT0+e1xuICAgICAgICBjb25zb2xlLmxvZygnbm90ZSBkZWxldGVkJyk7XG4gICAgfSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU5vdGUoaWQsIHVwZGF0ZUNvbnRlbnQpe1xuICAgIHJldHVybiBOb3RlLmZpbmRCeUlkKGlkKS50aGVuKG5vdGU9PntcbiAgICAgICAgT2JqZWN0LmtleXModXBkYXRlQ29udGVudCkuZm9yRWFjaChrZXk9PntcbiAgICAgICAgICAgIG5vdGVba2V5XSA9IHVwZGF0ZUNvbnRlbnRba2V5XVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gbm90ZS5zYXZlKCk7XG4gICAgfSlcbn1cblxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBa0MsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFM0IsZUFBZUcsVUFBVUEsQ0FBQ0MsV0FBVyxFQUFDO0VBQ3pDLE1BQU1DLE9BQU8sR0FBRyxJQUFJQyxhQUFJLENBQUMsQ0FBQztFQUMxQkMsTUFBTSxDQUFDQyxJQUFJLENBQUNKLFdBQVcsQ0FBQyxDQUFDSyxPQUFPLENBQUNDLEdBQUcsSUFBRTtJQUNsQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQztJQUNoQkwsT0FBTyxDQUFDSyxHQUFHLENBQUMsR0FBR04sV0FBVyxDQUFDTSxHQUFHLENBQUM7RUFDbkMsQ0FBQyxDQUFDO0VBQ0YsT0FBT0wsT0FBTyxDQUFDUSxJQUFJLENBQUMsQ0FBQztBQUN6QjtBQUVPLGVBQWVDLFFBQVFBLENBQUEsRUFBRTtFQUM1QixPQUFPUixhQUFJLENBQUNTLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUVDLEtBQUssSUFBRztJQUMvQixPQUFPQSxLQUFLLENBQUNDLE1BQU0sQ0FBQyxDQUFDQyxPQUFPLEVBQUVDLElBQUksS0FBRztNQUNqQ0QsT0FBTyxDQUFDQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxHQUFHRCxJQUFJO01BQ3ZCLE9BQU9ELE9BQU87SUFDbEIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0VBQ1YsQ0FBQyxDQUFDO0FBQ047QUFHTyxlQUFlRyxVQUFVQSxDQUFDRCxFQUFFLEVBQUM7RUFDaEMsT0FBT2YsYUFBSSxDQUFDaUIsaUJBQWlCLENBQUNGLEVBQUUsQ0FBQyxDQUFDTCxJQUFJLENBQUNRLElBQUksSUFBRTtJQUN6Q2IsT0FBTyxDQUFDQyxHQUFHLENBQUMsY0FBYyxDQUFDO0VBQy9CLENBQUMsQ0FBQztBQUNOO0FBRU8sZUFBZWEsVUFBVUEsQ0FBQ0osRUFBRSxFQUFFSyxhQUFhLEVBQUM7RUFDL0MsT0FBT3BCLGFBQUksQ0FBQ3FCLFFBQVEsQ0FBQ04sRUFBRSxDQUFDLENBQUNMLElBQUksQ0FBQ1EsSUFBSSxJQUFFO0lBQ2hDakIsTUFBTSxDQUFDQyxJQUFJLENBQUNrQixhQUFhLENBQUMsQ0FBQ2pCLE9BQU8sQ0FBQ0MsR0FBRyxJQUFFO01BQ3BDYyxJQUFJLENBQUNkLEdBQUcsQ0FBQyxHQUFHZ0IsYUFBYSxDQUFDaEIsR0FBRyxDQUFDO0lBQ2xDLENBQUMsQ0FBQztJQUNGLE9BQU9jLElBQUksQ0FBQ1gsSUFBSSxDQUFDLENBQUM7RUFDdEIsQ0FBQyxDQUFDO0FBQ04ifQ==","map":{"version":3,"names":["_note","_interopRequireDefault","require","obj","__esModule","default","createNote","noteContent","newNote","Note","Object","keys","forEach","key","console","log","save","getNotes","find","then","notes","reduce","results","item","id","deleteNote","findByIdAndDelete","note","updateNote","updateContent","findById"],"sourceRoot":"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter/src/contollers/","sources":["note_controller.js"],"sourcesContent":["import Note from \"../models/note\";\n\nexport async function createNote(noteContent){\n    const newNote = new Note();\n    Object.keys(noteContent).forEach(key=>{\n        console.log(key);\n        newNote[key] = noteContent[key];\n    })\n    return newNote.save();\n}\n\nexport async function getNotes(){\n    return Note.find({}).then((notes)=>{\n        return notes.reduce((results, item)=>{\n            results[item.id] = item;\n            return results;\n        }, {})\n    })\n}\n\n\nexport async function deleteNote(id){\n    return Note.findByIdAndDelete(id).then(note=>{\n        console.log('note deleted');\n    })\n}\n\nexport async function updateNote(id, updateContent){\n    return Note.findById(id).then(note=>{\n        Object.keys(updateContent).forEach(key=>{\n            note[key] = updateContent[key]\n        })\n        return note.save();\n    })\n}\n\n"],"mappings":";;;;;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE3B,eAAeG,UAAUA,CAACC,WAAW,EAAC;EACzC,MAAMC,OAAO,GAAG,IAAIC,aAAI,CAAC,CAAC;EAC1BC,MAAM,CAACC,IAAI,CAACJ,WAAW,CAAC,CAACK,OAAO,CAACC,GAAG,IAAE;IAClCC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBL,OAAO,CAACK,GAAG,CAAC,GAAGN,WAAW,CAACM,GAAG,CAAC;EACnC,CAAC,CAAC;EACF,OAAOL,OAAO,CAACQ,IAAI,CAAC,CAAC;AACzB;AAEO,eAAeC,QAAQA,CAAA,EAAE;EAC5B,OAAOR,aAAI,CAACS,IAAI,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAEC,KAAK,IAAG;IAC/B,OAAOA,KAAK,CAACC,MAAM,CAAC,CAACC,OAAO,EAAEC,IAAI,KAAG;MACjCD,OAAO,CAACC,IAAI,CAACC,EAAE,CAAC,GAAGD,IAAI;MACvB,OAAOD,OAAO;IAClB,CAAC,EAAE,CAAC,CAAC,CAAC;EACV,CAAC,CAAC;AACN;AAGO,eAAeG,UAAUA,CAACD,EAAE,EAAC;EAChC,OAAOf,aAAI,CAACiB,iBAAiB,CAACF,EAAE,CAAC,CAACL,IAAI,CAACQ,IAAI,IAAE;IACzCb,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;EAC/B,CAAC,CAAC;AACN;AAEO,eAAea,UAAUA,CAACJ,EAAE,EAAEK,aAAa,EAAC;EAC/C,OAAOpB,aAAI,CAACqB,QAAQ,CAACN,EAAE,CAAC,CAACL,IAAI,CAACQ,IAAI,IAAE;IAChCjB,MAAM,CAACC,IAAI,CAACkB,aAAa,CAAC,CAACjB,OAAO,CAACC,GAAG,IAAE;MACpCc,IAAI,CAACd,GAAG,CAAC,GAAGgB,aAAa,CAAChB,GAAG,CAAC;IAClC,CAAC,CAAC;IACF,OAAOc,IAAI,CAACX,IAAI,CAAC,CAAC;EACtB,CAAC,CAAC;AACN"}},"mtime":1685512557710},"{\"assumptions\":{},\"sourceRoot\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter\",\"filename\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter/src/models/note.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst NoteSchema = new _mongoose.Schema({\n  Title: String,\n  x: Number,\n  y: Number,\n  z_index: Number,\n  content: String\n}, {\n  toJSON: {\n    virtuals: true\n  },\n  toObject: {\n    virtuals: true\n  }\n});\nconst Note = _mongoose.default.model('Notes', NoteSchema);\nvar _default = Note;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiTm90ZVNjaGVtYSIsIlNjaGVtYSIsIlRpdGxlIiwiU3RyaW5nIiwieCIsIk51bWJlciIsInkiLCJ6X2luZGV4IiwiY29udGVudCIsInRvSlNPTiIsInZpcnR1YWxzIiwidG9PYmplY3QiLCJOb3RlIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2Rlc3Rpbm5peW9tdWZhc2hhL0Rlc2t0b3AvQ1M1Mi9leHByZXNzLWJhYmVsLXN0YXJ0ZXIvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbIm5vdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IE1vZGVsLCBTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgTm90ZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIFRpdGxlOiBTdHJpbmcsXG4gICAgeDogTnVtYmVyLFxuICAgIHk6IE51bWJlcixcbiAgICB6X2luZGV4OiBOdW1iZXIsXG4gICAgY29udGVudDogU3RyaW5nLCAgXG59LCBcbntcbiAgICB0b0pTT04gOiB7dmlydHVhbHM6IHRydWV9LFxuICAgIHRvT2JqZWN0OiB7dmlydHVhbHM6IHRydWV9XG59KVxuXG5cbmNvbnN0IE5vdGUgPSAgbW9uZ29vc2UubW9kZWwoJ05vdGVzJywgTm90ZVNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBOb3RlOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQW1ELFNBQUFDLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxXQUFBLFdBQUFBLFdBQUEsR0FBQUcsZ0JBQUEsR0FBQUQsaUJBQUEsS0FBQUYsV0FBQTtBQUFBLFNBQUFILHdCQUFBTyxHQUFBLEVBQUFKLFdBQUEsU0FBQUEsV0FBQSxJQUFBSSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxXQUFBRCxHQUFBLFFBQUFBLEdBQUEsb0JBQUFBLEdBQUEsd0JBQUFBLEdBQUEsNEJBQUFFLE9BQUEsRUFBQUYsR0FBQSxVQUFBRyxLQUFBLEdBQUFSLHdCQUFBLENBQUFDLFdBQUEsT0FBQU8sS0FBQSxJQUFBQSxLQUFBLENBQUFDLEdBQUEsQ0FBQUosR0FBQSxZQUFBRyxLQUFBLENBQUFFLEdBQUEsQ0FBQUwsR0FBQSxTQUFBTSxNQUFBLFdBQUFDLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLEdBQUEsSUFBQVgsR0FBQSxRQUFBVyxHQUFBLGtCQUFBSCxNQUFBLENBQUFJLFNBQUEsQ0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFkLEdBQUEsRUFBQVcsR0FBQSxTQUFBSSxJQUFBLEdBQUFSLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQVYsR0FBQSxFQUFBVyxHQUFBLGNBQUFJLElBQUEsS0FBQUEsSUFBQSxDQUFBVixHQUFBLElBQUFVLElBQUEsQ0FBQUMsR0FBQSxLQUFBUixNQUFBLENBQUFDLGNBQUEsQ0FBQUgsTUFBQSxFQUFBSyxHQUFBLEVBQUFJLElBQUEsWUFBQVQsTUFBQSxDQUFBSyxHQUFBLElBQUFYLEdBQUEsQ0FBQVcsR0FBQSxTQUFBTCxNQUFBLENBQUFKLE9BQUEsR0FBQUYsR0FBQSxNQUFBRyxLQUFBLElBQUFBLEtBQUEsQ0FBQWEsR0FBQSxDQUFBaEIsR0FBQSxFQUFBTSxNQUFBLFlBQUFBLE1BQUE7QUFFbkQsTUFBTVcsVUFBVSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDMUJDLEtBQUssRUFBRUMsTUFBTTtFQUNiQyxDQUFDLEVBQUVDLE1BQU07RUFDVEMsQ0FBQyxFQUFFRCxNQUFNO0VBQ1RFLE9BQU8sRUFBRUYsTUFBTTtFQUNmRyxPQUFPLEVBQUVMO0FBQ2IsQ0FBQyxFQUNEO0VBQ0lNLE1BQU0sRUFBRztJQUFDQyxRQUFRLEVBQUU7RUFBSSxDQUFDO0VBQ3pCQyxRQUFRLEVBQUU7SUFBQ0QsUUFBUSxFQUFFO0VBQUk7QUFDN0IsQ0FBQyxDQUFDO0FBR0YsTUFBTUUsSUFBSSxHQUFJQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsT0FBTyxFQUFFZCxVQUFVLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBQ25DSCxJQUFJO0FBQUFJLE9BQUEsQ0FBQS9CLE9BQUEsR0FBQThCLFFBQUEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","NoteSchema","Schema","Title","String","x","Number","y","z_index","content","toJSON","virtuals","toObject","Note","mongoose","model","_default","exports"],"sourceRoot":"/Users/destinniyomufasha/Desktop/CS52/express-babel-starter/src/models/","sources":["note.js"],"sourcesContent":["import mongoose, { Model, Schema } from \"mongoose\";\n\nconst NoteSchema = new Schema({\n    Title: String,\n    x: Number,\n    y: Number,\n    z_index: Number,\n    content: String,  \n}, \n{\n    toJSON : {virtuals: true},\n    toObject: {virtuals: true}\n})\n\n\nconst Note =  mongoose.model('Notes', NoteSchema);\nexport default Note;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAmD,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEnD,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,KAAK,EAAEC,MAAM;EACbC,CAAC,EAAEC,MAAM;EACTC,CAAC,EAAED,MAAM;EACTE,OAAO,EAAEF,MAAM;EACfG,OAAO,EAAEL;AACb,CAAC,EACD;EACIM,MAAM,EAAG;IAACC,QAAQ,EAAE;EAAI,CAAC;EACzBC,QAAQ,EAAE;IAACD,QAAQ,EAAE;EAAI;AAC7B,CAAC,CAAC;AAGF,MAAME,IAAI,GAAIC,iBAAQ,CAACC,KAAK,CAAC,OAAO,EAAEd,UAAU,CAAC;AAAC,IAAAe,QAAA,GACnCH,IAAI;AAAAI,OAAA,CAAA/B,OAAA,GAAA8B,QAAA"}},"mtime":1685511681476}}